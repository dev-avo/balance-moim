# ë°¸ëŸ°ìŠ¤ ëª¨ì„ (Balance Moim)

ëª¨ì„ ê¸°ë°˜ ë°¸ëŸ°ìŠ¤ ê²Œì„ í”Œë«í¼ - ë‘ ì„ íƒì§€ ì¤‘ í•˜ë‚˜ë¥¼ ê³ ë¥´ë©° ì„œë¡œì˜ ì·¨í–¥ì„ ë°œê²¬í•˜ì„¸ìš”!

## ğŸ¯ ì†Œê°œ

**ë°¸ëŸ°ìŠ¤ ëª¨ì„** = **ë°¸ëŸ°ìŠ¤** + **ëª¨ì„**

- ğŸ² **ë°¸ëŸ°ìŠ¤**: ë‘˜ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•˜ëŠ” ë°¸ëŸ°ìŠ¤ ê²Œì„
- ğŸ‘¥ **ëª¨ì„**: í•¨ê»˜í•˜ëŠ” ì‚¬ëŒë“¤ê³¼ ì„ íƒì„ ë¹„êµí•˜ëŠ” ì»¤ë®¤ë‹ˆí‹°
- â“ **ë°¸ëŸ°ìŠ¤ ë­ì„?**: "What's your balance?" - ë‹¹ì‹ ì˜ ì„ íƒì€ ë¬´ì—‡ì¸ê°€ìš”?

íšŒì‚¬, ë™ì•„ë¦¬, êµíšŒ ë“± ë‹¤ì–‘í•œ ëª¨ì„ì— ì†í•œ ì‚¬ëŒë“¤ì´ ì¬ë¯¸ìˆëŠ” ì–‘ìíƒì¼ ì§ˆë¬¸ì„ í†µí•´ ì„œë¡œì˜ ì·¨í–¥ì„ ë°œê²¬í•˜ê³ , ëˆ„ê°€ ë‚˜ì™€ ê°€ì¥ ë¹„ìŠ·í•œ ì·¨í–¥ì„ ê°€ì¡ŒëŠ”ì§€ íŒŒì•…í•˜ì—¬ ì¹œëª©ì„ ë„ëª¨í•  ìˆ˜ ìˆëŠ” ì›¹ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

| ê¸°ëŠ¥ | ì„¤ëª… | ë¡œê·¸ì¸ í•„ìš” |
|------|------|:----------:|
| ğŸ² ë°¸ëŸ°ìŠ¤ ê²Œì„ | ë‘˜ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•˜ëŠ” ì§ˆë¬¸ì— ì‘ë‹µ | âŒ |
| ğŸ“Š ì „ì²´ í†µê³„ | ëª¨ë“  ì‚¬ìš©ìì˜ ì‘ë‹µ ë¹„ìœ¨ í™•ì¸ | âŒ |
| ğŸ¨ í…Œë§ˆ ì„¤ì • | ë¼ì´íŠ¸/ë‹¤í¬/ì‹œìŠ¤í…œ í…Œë§ˆ ì„ íƒ | âŒ |
| ğŸ’¾ ì‘ë‹µ ì €ì¥ | ë‚´ ì‘ë‹µ ê¸°ë¡ ì €ì¥ | âœ… |
| âœï¸ ì§ˆë¬¸ ë§Œë“¤ê¸° | ìƒˆë¡œìš´ ë°¸ëŸ°ìŠ¤ ì§ˆë¬¸ ë“±ë¡ | âœ… |
| ğŸ‘¥ ëª¨ì„ ìƒì„± | ì¹œêµ¬ë“¤ê³¼ í•¨ê»˜í•˜ëŠ” ë¹„ê³µê°œ ëª¨ì„ | âœ… |
| ğŸ”— ì´ˆëŒ€ ë§í¬ | ëª¨ì„ ì´ˆëŒ€ ë§í¬ ìƒì„± ë° ê³µìœ  | âœ… |
| ğŸ“ˆ ëª¨ì„ í†µê³„ | ëª¨ì„ ë©¤ë²„ë“¤ì˜ ì‘ë‹µ ë¹„ìœ¨ ë¹„êµ | âœ… |
| ğŸ’• ì·¨í–¥ ë§¤ì¹­ | ë‚˜ì™€ ì·¨í–¥ì´ ê°€ì¥ ë¹„ìŠ·í•œ ì‚¬ëŒ ì°¾ê¸° | âœ… |
| ğŸ” ìƒì„¸ ë¹„êµ | íŠ¹ì • ë©¤ë²„ì™€ ì§ˆë¬¸ë³„ ì„ íƒ ë¹„êµ | âœ… |

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

### í”„ë¡ íŠ¸ì—”ë“œ
- **HTML5 + CSS3 + JavaScript (ES6+ Modules)**
- Apple MacBook ìŠ¤íƒ€ì¼ UI/UX
- ë°˜ì‘í˜• ë””ìì¸ (ëª¨ë°”ì¼/íƒœë¸”ë¦¿/PC)
- CSS ë³€ìˆ˜ ê¸°ë°˜ í…Œë§ˆ ì‹œìŠ¤í…œ

### ë°±ì—”ë“œ
- **Cloudflare Pages Functions** (TypeScript)
- **Cloudflare D1** (SQLite í˜¸í™˜ ë°ì´í„°ë² ì´ìŠ¤)
- **Jose** (JWT í† í° ì²˜ë¦¬)

### ì¸ì¦
- **Google OAuth 2.0** (íŒì—… ë°©ì‹)
- JWT ê¸°ë°˜ ì„¸ì…˜ ê´€ë¦¬ (httpOnly ì¿ í‚¤)

### ë°°í¬
- **Cloudflare Pages** + GitHub ì—°ë™
- ìë™ ë°°í¬ (Git push)

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
/
â”œâ”€â”€ index.html                 # ëœë”© í˜ì´ì§€
â”œâ”€â”€ home.html                  # ê²Œì„ í”Œë ˆì´
â”œâ”€â”€ settings.html              # ì‚¬ìš©ì ì„¤ì • (í…Œë§ˆ, í‘œì‹œì´ë¦„)
â”œâ”€â”€ groups.html                # ëª¨ì„ ëª©ë¡
â”œâ”€â”€ groups/
â”‚   â”œâ”€â”€ create.html            # ëª¨ì„ ìƒì„±
â”‚   â””â”€â”€ detail.html            # ëª¨ì„ ìƒì„¸ (í†µê³„, ë©¤ë²„)
â”œâ”€â”€ questions/
â”‚   â”œâ”€â”€ create.html            # ì§ˆë¬¸ ìƒì„±
â”‚   â””â”€â”€ my.html                # ë‚´ ì§ˆë¬¸ ê´€ë¦¬
â”œâ”€â”€ invite.html                # ì´ˆëŒ€ ë§í¬ ì²˜ë¦¬
â”œâ”€â”€ 404.html                   # 404 í˜ì´ì§€
â”‚
â”œâ”€â”€ css/
â”‚   â””â”€â”€ style.css              # ì „ì²´ ìŠ¤íƒ€ì¼ì‹œíŠ¸
â”‚
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ components/            # UI ì»´í¬ë„ŒíŠ¸ (Header, Toast, Modal, Loading)
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â””â”€â”€ api.js             # API í˜¸ì¶œ ëª¨ë“ˆ
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ auth.js            # ì¸ì¦ ìœ í‹¸ë¦¬í‹°
â”‚       â””â”€â”€ theme.js           # í…Œë§ˆ ê´€ë¦¬
â”‚
â”œâ”€â”€ functions/api/             # Cloudflare Pages Functions
â”‚   â”œâ”€â”€ auth/                  # ì¸ì¦ API
â”‚   â”œâ”€â”€ questions/             # ì§ˆë¬¸ API
â”‚   â”œâ”€â”€ responses.ts           # ì‘ë‹µ API
â”‚   â”œâ”€â”€ groups/                # ëª¨ì„ API
â”‚   â””â”€â”€ tags/                  # íƒœê·¸ API
â”‚
â”œâ”€â”€ lib/                       # ì„œë²„ ê³µí†µ ë¼ì´ë¸ŒëŸ¬ë¦¬
â”‚   â””â”€â”€ auth/
â”‚       â”œâ”€â”€ jwt.ts             # JWT ìœ í‹¸ë¦¬í‹°
â”‚       â””â”€â”€ session.ts         # ì„¸ì…˜ ê´€ë¦¬
â”‚
â”œâ”€â”€ drizzle/
â”‚   â””â”€â”€ schema.sql             # DB ìŠ¤í‚¤ë§ˆ
â”‚
â”œâ”€â”€ _headers                   # Cloudflare í—¤ë” ì„¤ì •
â”œâ”€â”€ _routes.json               # API ë¼ìš°íŒ… ì„¤ì •
â””â”€â”€ wrangler.toml              # Cloudflare ì„¤ì •
```

## ğŸš€ ì‹œì‘í•˜ê¸°

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­

- Node.js 18+
- npm ë˜ëŠ” yarn
- Cloudflare ê³„ì •
- Google Cloud í”„ë¡œì íŠ¸ (OAuth ì„¤ì •)

### 1. ì €ì¥ì†Œ í´ë¡ 

```bash
git clone https://github.com/your-username/balance-moim.git
cd balance-moim
```

### 2. ì˜ì¡´ì„± ì„¤ì¹˜

```bash
npm install
```

### 3. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

```bash
# í…œí”Œë¦¿ ë³µì‚¬
cp .dev.vars.example .dev.vars

# .dev.vars íŒŒì¼ í¸ì§‘
```

í•„ìš”í•œ í™˜ê²½ ë³€ìˆ˜:

| ë³€ìˆ˜ëª… | ì„¤ëª… | ì˜ˆì‹œ |
|--------|------|------|
| `GOOGLE_CLIENT_ID` | Google OAuth í´ë¼ì´ì–¸íŠ¸ ID | `xxx.apps.googleusercontent.com` |
| `GOOGLE_CLIENT_SECRET` | Google OAuth ì‹œí¬ë¦¿ | `GOCSPX-xxx` |
| `JWT_SECRET` | JWT ì„œëª…ìš© ì‹œí¬ë¦¿ (32ì ì´ìƒ) | `openssl rand -base64 32` |

### 4. ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •

```bash
# D1 ë°ì´í„°ë² ì´ìŠ¤ ìƒì„± (ìµœì´ˆ 1íšŒ)
wrangler d1 create balance-moim-db

# ë¡œì»¬ D1ì— ìŠ¤í‚¤ë§ˆ ì ìš©
wrangler d1 execute DB --local --file=./drizzle/schema.sql
```

### 5. ë¡œì»¬ ê°œë°œ ì„œë²„ ì‹¤í–‰

```bash
npm run dev
```

http://localhost:8788 ì—ì„œ í™•ì¸

## â˜ï¸ Cloudflare Pages ë°°í¬

### 1. Cloudflare ê³„ì • ì„¤ì •

1. [Cloudflare Dashboard](https://dash.cloudflare.com) ë¡œê·¸ì¸
2. **Workers & Pages** â†’ **Pages** ì„ íƒ

### 2. GitHub ì—°ê²°

1. **Create a project** í´ë¦­
2. **Connect to Git** ì„ íƒ
3. GitHub ê³„ì • ì—°ê²° ë° ì €ì¥ì†Œ ì„ íƒ
4. ë¹Œë“œ ì„¤ì •:
   - **Build command**: (ë¹„ì›Œë‘ê¸°)
   - **Build output directory**: `/`

### 3. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

**Settings** â†’ **Environment variables** ì—ì„œ ì¶”ê°€:

| ë³€ìˆ˜ëª… | ì„¤ëª… |
|--------|------|
| `GOOGLE_CLIENT_ID` | Google OAuth í´ë¼ì´ì–¸íŠ¸ ID |
| `GOOGLE_CLIENT_SECRET` | Google OAuth í´ë¼ì´ì–¸íŠ¸ ì‹œí¬ë¦¿ |
| `JWT_SECRET` | JWT ì„œëª…ìš© ì‹œí¬ë¦¿ (32ì ì´ìƒ) |

### 4. D1 ë°ì´í„°ë² ì´ìŠ¤ ë°”ì¸ë”©

1. **Settings** â†’ **Functions** â†’ **D1 database bindings**
2. **Add binding** í´ë¦­
3. Variable name: `DB`
4. D1 database ì„ íƒ (ì—†ìœ¼ë©´ ë¨¼ì € ìƒì„±)

### 5. í”„ë¡œë•ì…˜ DB ì„¤ì •

```bash
# D1 ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±
wrangler d1 create balance-moim-db

# wrangler.tomlì— database_id ì—…ë°ì´íŠ¸ í›„
# ìŠ¤í‚¤ë§ˆ ì ìš©
wrangler d1 execute DB --file=./drizzle/schema.sql
```

### 6. Google OAuth ë¦¬ë””ë ‰ì…˜ URI ì„¤ì •

[Google Cloud Console](https://console.cloud.google.com) â†’ **API ë° ì„œë¹„ìŠ¤** â†’ **ì‚¬ìš©ì ì¸ì¦ ì •ë³´**:

- **ìŠ¹ì¸ëœ JavaScript ì›ë³¸**: `https://your-project.pages.dev`
- **ìŠ¹ì¸ëœ ë¦¬ë””ë ‰ì…˜ URI**: `https://your-project.pages.dev/api/auth/callback`

### 7. ë°°í¬

```bash
# Git push â†’ ìë™ ë°°í¬
git push origin main
```

## ğŸ“¡ API ì—”ë“œí¬ì¸íŠ¸

### ì¸ì¦
| ë©”ì„œë“œ | ê²½ë¡œ | ì„¤ëª… |
|--------|------|------|
| GET | `/api/auth/callback` | OAuth ì½œë°± |
| GET | `/api/auth/session` | ì„¸ì…˜ í™•ì¸ |
| POST | `/api/auth/signout` | ë¡œê·¸ì•„ì›ƒ |

### ì‚¬ìš©ì
| ë©”ì„œë“œ | ê²½ë¡œ | ì„¤ëª… |
|--------|------|------|
| GET | `/api/users/me` | ë‚´ ì •ë³´ |
| PATCH | `/api/users/me` | ì •ë³´ ìˆ˜ì • |
| DELETE | `/api/users/me` | íšŒì› íƒˆí‡´ |

### ì§ˆë¬¸
| ë©”ì„œë“œ | ê²½ë¡œ | ì„¤ëª… |
|--------|------|------|
| GET | `/api/questions/random` | ëœë¤ ì§ˆë¬¸ |
| GET | `/api/questions/my` | ë‚´ ì§ˆë¬¸ ëª©ë¡ |
| POST | `/api/questions` | ì§ˆë¬¸ ìƒì„± |
| GET | `/api/questions/[id]` | ì§ˆë¬¸ ìƒì„¸ |
| PATCH | `/api/questions/[id]` | ì§ˆë¬¸ ìˆ˜ì • |
| DELETE | `/api/questions/[id]` | ì§ˆë¬¸ ì‚­ì œ |
| GET | `/api/questions/stats?id=` | ì§ˆë¬¸ í†µê³„ |

### ì‘ë‹µ
| ë©”ì„œë“œ | ê²½ë¡œ | ì„¤ëª… |
|--------|------|------|
| POST | `/api/responses` | ì‘ë‹µ ì œì¶œ |

### ëª¨ì„
| ë©”ì„œë“œ | ê²½ë¡œ | ì„¤ëª… |
|--------|------|------|
| GET | `/api/groups/my` | ë‚´ ëª¨ì„ ëª©ë¡ |
| POST | `/api/groups` | ëª¨ì„ ìƒì„± |
| GET | `/api/groups/[id]` | ëª¨ì„ ìƒì„¸ |
| PATCH | `/api/groups/[id]` | ëª¨ì„ ìˆ˜ì • |
| DELETE | `/api/groups/[id]` | ëª¨ì„ ì‚­ì œ |
| POST | `/api/groups/invite?id=` | ì´ˆëŒ€ ë§í¬ ìƒì„± |
| GET/POST | `/api/groups/join?code=` | ëª¨ì„ ì°¸ì—¬ |
| POST | `/api/groups/leave?id=` | ëª¨ì„ íƒˆí‡´ |
| GET | `/api/groups/similarity?id=` | ìœ ì‚¬ë„ ë­í‚¹ |
| GET | `/api/groups/compare?groupId=&userId=` | ì‚¬ìš©ì ë¹„êµ |

### íƒœê·¸
| ë©”ì„œë“œ | ê²½ë¡œ | ì„¤ëª… |
|--------|------|------|
| GET | `/api/tags` | íƒœê·¸ ëª©ë¡ |
| POST | `/api/tags` | íƒœê·¸ ìƒì„± |
| GET | `/api/tags/search?q=` | íƒœê·¸ ê²€ìƒ‰ |

## ğŸ“š ë¬¸ì„œ

- [PRD (ì œí’ˆ ìš”êµ¬ì‚¬í•­)](./docs/01_balance_game_prd.md)
- [ê°œë°œ ì‘ì—… ëª©ë¡](./docs/02_balance_game_tasks.md)

## ğŸ¤ ê¸°ì—¬í•˜ê¸°

1. Fork the Project
2. Create your Feature Branch (`git checkout -b feature/AmazingFeature`)
3. Commit your Changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the Branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

## ğŸ“„ ë¼ì´ì„ ìŠ¤

MIT License - [LICENSE](./LICENSE) íŒŒì¼ ì°¸ì¡°

## ğŸ“ ë¬¸ì˜

- ì´ìŠˆ ë“±ë¡: [GitHub Issues](https://github.com/your-username/balance-moim/issues)
